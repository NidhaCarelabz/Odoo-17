<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="crm_lead_view_form" model="ir.ui.view">
        <field name="name">crm.lead.view.form.inherit.stages</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_lead_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//header" position="inside">
                <field name="lead_stage_id" widget="statusbar_duration"
                       invisible="type == 'opportunity' or not active" options="{'clickable': '1'}"/>
            </xpath>
        </field>
    </record>

    <record id="quick_create_lead_form" model="ir.ui.view">
        <field name="name">crm.lead.kanban.form.quick_create</field>
        <field name="model">crm.lead</field>
        <field name="priority">1001</field>
        <field name="arch" type="xml">
            <form>
                <group>
                    <field name="partner_id" widget="res_partner_many2one"
                           class="o_field_highlight"
                           string='Organization / Contact'
                           context="{
                                'res_partner_search_mode': type == 'lead' and 'customer' or False,
                                'default_name': contact_name or partner_name,
                                'default_is_company': type == 'lead' and contact_name == False,
                                'default_company_name': type == 'lead' and partner_name,
                                'default_phone': phone,
                                'default_email': email_from,
                                'default_user_id': user_id,
                                'default_team_id': team_id,
                                'show_vat': True}"/>
                    <field name="name" placeholder="e.g. Product Pricing"/>
                    <field name="email_from" string="Email" placeholder='e.g. "email@address.com"'/>
                    <field name="phone" string="Phone" placeholder='e.g. "0123456789"'/>
                    <field name="company_currency" invisible="1"/>
                    <field name="company_id" invisible="1"/>
                    <field name="user_id" invisible="1"/>
                    <field name="user_company_ids" invisible="1"/>
                    <field name="team_id" invisible="1"/>
                    <field name="type" invisible="1"/>
                    <field name="partner_name" invisible="1"/>
                    <field name="contact_name" invisible="1"/>
                    <field name="country_id" invisible="1"/>
                    <field name="state_id" invisible="1"/>
                    <field name="city" invisible="1"/>
                    <field name="street" invisible="1"/>
                    <field name="street2" invisible="1"/>
                    <field name="zip" invisible="1"/>
                    <field name="mobile" invisible="1"/>
                    <field name="website" invisible="1"/>
                    <field name="function" invisible="1"/>
                    <field name="title" invisible="1"/>
                    <field name="activity_ids" invisible="1"/>
                </group>
            </form>
        </field>
    </record>

    <record id="view_crm_lead_kanban_stages" model="ir.ui.view">
        <field name="name">crm.lead.kanban.inherit</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.view_crm_lead_kanban"/>
        <field name="arch" type="xml">
            <xpath expr="//kanban" position="attributes">
                <attribute name="default_group_by">lead_stage_id</attribute>
                <attribute name="on_create">quick_create</attribute>
                <attribute name="quick_create_view">lead_stages.quick_create_lead_form</attribute>
            </xpath>
        </field>
    </record>

    <record id="crm.crm_lead_all_leads_view_tree" model="ir.actions.act_window.view">
            <field name="sequence" eval="2"/>
        </record>

        <record id="crm.crm_lead_all_leads_view_kanban" model="ir.actions.act_window.view">
            <field name="sequence" eval="1"/>

        </record>

</odoo>
